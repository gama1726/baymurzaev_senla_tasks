# Импорт/Экспорт CSV

## Быстрый старт

### Экспорт данных

1. Запустите приложение
2. Выберите пункт меню для экспорта:
   - **Механики**: "Экспортировать механиков в CSV"
   - **Гаражные места**: "Экспортировать гаражные места в CSV"
   - **Заказы**: "Экспортировать заказы в CSV"
3. Введите путь к файлу: `C:\data\mechanics.csv`
4. Данные будут экспортированы в CSV файл

### Импорт данных

1. Подготовьте CSV файл с данными (форматы ниже)
2. Выберите пункт меню для импорта:
   - **Механики**: "Импортировать механиков из CSV"
   - **Гаражные места**: "Импортировать гаражные места из CSV"
   - **Заказы**: "Импортировать заказы из CSV"
3. Введите путь к файлу: `C:\data\mechanics.csv`
4. Данные будут импортированы (существующие обновятся, новые добавятся)

⚠️ **Важно для заказов:** Сначала импортируйте механиков и гаражные места!

---

## Форматы CSV файлов

### Механики
```csv
id,name
1,Андрей
2,Руслан
3,Магомед
```

### Гаражные места
```csv
id
101
102
103
```

### Заказы
```csv
id,mechanicId,garageSlotId,timeSlotStart,timeSlotEnd,price,status,submittedAt,finishedAt
1,1,101,2024-12-20T10:00,2024-12-20T12:00,5000,NEW,2024-12-20T09:00,
2,2,102,2024-12-21T14:00,2024-12-21T16:00,7000,CLOSED,2024-12-21T13:00,2024-12-21T16:00
```

**Формат даты:** `yyyy-MM-ddTHH:mm` (например: `2024-12-20T10:00`)

**Статусы заказов:** `NEW`, `CLOSED`, `CANCELED`, `DELETED`

**Опциональные поля:** `submittedAt` и `finishedAt` могут быть пустыми

---

## Пример использования

1. **Экспорт:**
   ```
   Выберите пункт: 15
   Введите путь к файлу для экспорта: mechanics.csv
   Экспортировано 3 механиков в файл: mechanics.csv
   ```

2. **Импорт:**
   ```
   Выберите пункт: 16
   Введите путь к CSV файлу для импорта: mechanics.csv
   Импорт завершен. Обновлено: 1, добавлено: 2
   ```

---

## Обработка ошибок

- Если файл не найден → проверьте путь
- Если механик/гараж не найдены для заказа → импортируйте их сначала
- Если неверный формат данных → строка пропускается, остальные обрабатываются
- Ошибки выводятся в консоль с номером проблемной строки

---

## Особенности

- ✅ Существующие записи с совпавшим ID обновляются
- ✅ Новые записи добавляются
- ✅ Заказы автоматически связываются с механиками и гаражными местами по ID
- ✅ Файлы в кодировке UTF-8

